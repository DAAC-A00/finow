# 동적 규칙 업데이트 시스템

**🤖 AI가 Ground Rules를 자동으로 업데이트하기 위한 시스템 가이드**

## 📋 시스템 개요

이 시스템은 사용자의 새로운 개발 요구사항이 기존 Ground Rules와 충돌할 때, AI가 자동으로 문서를 업데이트하도록 설계되었습니다.

## 🔄 자동 업데이트 트리거 조건

### 1. 규칙 충돌 감지 시나리오

#### A. 아키텍처 패턴 변경 요구
```
사용자 요청 예시:
"MVC 패턴으로 변경해주세요"
"Provider 대신 Bloc을 사용하고 싶어요"
"Repository 없이 직접 API 호출하도록 해주세요"

→ AI 대응: GROUND_RULES.md의 아키텍처 섹션 업데이트
```

#### B. 새로운 기술 스택 도입 요구  
```
사용자 요청 예시:
"Firebase를 추가해주세요"
"GraphQL을 사용하고 싶어요"
"Isar 대신 Sqflite를 써주세요"

→ AI 대응: 기술 스택 섹션 및 금지 사항 섹션 업데이트
```

#### C. 네이밍 규칙 변경 요구
```
사용자 요청 예시:
"파일명을 camelCase로 해주세요"
"Provider 네이밍을 다르게 하고 싶어요"

→ AI 대응: 네이밍 규칙 섹션 업데이트
```

#### D. UI/UX 패턴 변경 요구
```
사용자 요청 예시:
"스케일링 시스템 없이 해주세요"
"Material Design 말고 Custom Design 써주세요"

→ AI 대응: UI 개발 규칙 섹션 업데이트
```

## 🤖 AI 자동 업데이트 절차

### 1단계: 충돌 감지 및 분석
```markdown
1. 사용자 요구사항과 현재 GROUND_RULES.md 비교
2. 충돌하는 규칙들 식별
3. 변경 범위 및 영향도 분석
4. 업데이트 필요성 판단
```

### 2단계: 규칙 업데이트 실행
```markdown
1. GROUND_RULES.md 해당 섹션 수정
2. 버전 번호 증가 (v2.0 → v2.1)
3. 변경 사항 요약 추가
4. 충돌 해결 방안 명시
```

### 3단계: 연관 문서 업데이트
```markdown
1. README.md 업데이트 (필요시)
2. 관련 상세 문서들 업데이트 (필요시)
3. 변경 로그 기록
```

### 4단계: 사용자 알림
```markdown
1. 변경된 규칙 내용 설명
2. 기존 코드에 미칠 영향 안내
3. 마이그레이션 가이드 제공 (필요시)
```

## 📝 업데이트 템플릿

### GROUND_RULES.md 업데이트 템플릿

```markdown
# Finow 프로젝트 Ground Rules (마스터 가이드) - v2.X

**🔄 [업데이트 날짜] 업데이트: [변경 사항 요약]**

## 📋 버전 히스토리
- v2.X: [변경 내용] - 사용자 요구사항 반영
- v2.0: 실제 코드베이스 분석 반영

## ⚠️ 중요 변경 사항 (v2.X)
- **변경된 규칙**: [구체적 설명]
- **영향 범위**: [어떤 부분이 영향받는지]
- **마이그레이션**: [기존 코드 변경 필요사항]

[기존 내용에 새로운 규칙 통합]
```

## 🔍 자동 감지 키워드 시스템

### 충돌 감지 키워드들
```yaml
아키텍처:
  - "MVC", "MVVM", "Bloc", "GetX"
  - "Repository 없이", "직접 API", "Provider 대신"

기술스택:
  - "Firebase", "Supabase", "GraphQL"
  - "Sqflite", "Isar", "SharedPreferences"
  - "Http 대신", "Dio 말고"

네이밍:
  - "camelCase 파일명", "PascalCase 변수"
  - "다른 네이밍", "네이밍 변경"

UI패턴:
  - "스케일링 없이", "Custom Design"
  - "Material 말고", "Cupertino"
```

## 🚀 실제 업데이트 예시

### 예시 1: 새로운 상태관리 요구
**사용자 요청**: "Provider 대신 Bloc을 사용하고 싶어요"

**AI 대응**:
```markdown
1. GROUND_RULES.md 업데이트:
   - 상태 관리 섹션에 Bloc 패턴 추가
   - Riverpod 규칙을 선택사항으로 변경
   - 버전을 v2.1로 업데이트

2. 사용자 알림:
   "Ground Rules가 업데이트되었습니다. 
   이제 Bloc 패턴도 허용되며, 기존 Riverpod 코드와 
   병행 사용이 가능합니다."
```

### 예시 2: 아키텍처 패턴 변경
**사용자 요청**: "Repository 패턴 없이 직접 API를 호출하고 싶어요"

**AI 대응**:
```markdown  
1. GROUND_RULES.md 업데이트:
   - 아키텍처 섹션에 "Direct API Call" 패턴 추가
   - Repository 패턴을 권장사항으로 변경
   - 직접 API 호출 시 주의사항 추가

2. 영향도 분석:
   "기존 Repository 코드는 유지되며, 
   새로운 기능은 직접 API 호출 방식으로 구현 가능합니다."
```

## 🛡️ 업데이트 안전장치

### 1. 핵심 규칙 보호
```markdown
절대 변경 금지 항목:
- Flutter 프레임워크 사용
- 크로스플랫폼 지원
- 60FPS 성능 목표
- 기본 보안 규칙
```

### 2. 충돌 해결 우선순위
```markdown
1. 사용자 요구사항 > 기존 규칙
2. 성능/보안 > 개발 편의성  
3. 기존 코드 호환성 고려
4. 단계적 마이그레이션 제공
```

### 3. 롤백 메커니즘
```markdown
문제 발생 시:
1. 이전 버전 규칙으로 되돌리기
2. 충돌하는 코드 식별 및 수정
3. 사용자에게 문제 상황 알림
```

## 📊 업데이트 추적 시스템

### 변경 로그 형식
```markdown
## 변경 로그

### v2.3 (2024-XX-XX)
- **추가**: Firebase 인증 시스템 지원
- **변경**: Provider 네이밍 규칙 완화  
- **제거**: 구 버전 스케일링 시스템
- **요청자**: 사용자 요구사항 반영

### v2.2 (2024-XX-XX)  
- **추가**: GraphQL 지원
- **변경**: Repository 패턴 선택사항화
- **요청자**: 사용자 요구사항 반영
```

## 🎯 성공 지표

### 업데이트 품질 기준
- ✅ 사용자 요구사항 100% 반영
- ✅ 기존 코드와의 호환성 유지
- ✅ 명확한 마이그레이션 가이드 제공
- ✅ 성능 및 보안 기준 유지
- ✅ 문서 일관성 유지

---

**이 시스템을 통해 Finow 프로젝트는 사용자의 변화하는 요구사항에 유연하게 대응하면서도 코드 품질과 일관성을 유지할 수 있습니다.**